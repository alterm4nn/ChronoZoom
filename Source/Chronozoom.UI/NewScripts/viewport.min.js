function VisibleRegion2d(n,t,i){this.centerX=n,this.centerY=t,this.scale=i}function Viewport2d(n,t,i,r){this.aspectRatio=n,this.visible=r,this.width=t,this.height=i,this.widthScreenToVirtual=function(n){return this.visible.scale*n},this.heightScreenToVirtual=function(n){return this.aspectRatio*this.visible.scale*n},this.widthVirtualToScreen=function(n){return n/this.visible.scale},this.heightVirtualToScreen=function(n){return n/(this.aspectRatio*this.visible.scale)},this.vectorVirtualToScreen=function(n,t){return{x:n/this.visible.scale,y:t/(this.aspectRatio*this.visible.scale)}},this.pointVirtualToScreen=function(n,t){return{x:(n-this.visible.centerX)/this.visible.scale+this.width/2,y:(t-this.visible.centerY)/(this.aspectRatio*this.visible.scale)+this.height/2}},this.pointScreenToVirtual=function(n,t){return{x:(n-this.width/2)*this.visible.scale+this.visible.centerX,y:this.visible.centerY-(this.height/2-t)*this.aspectRatio*this.visible.scale}},this.vectorScreenToVirtual=function(n,t){return{x:n*this.visible.scale,y:this.aspectRatio*this.visible.scale*t}}}